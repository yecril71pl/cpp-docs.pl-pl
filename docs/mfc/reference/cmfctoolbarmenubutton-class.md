---
title: Klasa CMFCToolBarMenuButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CompareWith
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CopyFrom
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateFromMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::EnableQuickCustomize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetCommands
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetImageRect
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPaletteRows
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HasButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HaveHotBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsClickedOnMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsDroppedDown
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsEmptyMenuAllowed
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsExclusive
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsQuickMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsTearOffMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnAfterCreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnBeforeDrag
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCalculateSize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCancelMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnChangeParentWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClick
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClickMenuItem
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnContextHelp
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDraw
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDrawOnCustomizeList
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OpenPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::ResetImageToDefault
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SaveBarState
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::Serialize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetACCData
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuOnly
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMessageWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetRadio
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetTearOff
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::DrawDocumentIcon
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw
helpviewer_keywords:
- CMFCToolBarMenuButton [MFC], CMFCToolBarMenuButton
- CMFCToolBarMenuButton [MFC], CompareWith
- CMFCToolBarMenuButton [MFC], CopyFrom
- CMFCToolBarMenuButton [MFC], CreateFromMenu
- CMFCToolBarMenuButton [MFC], CreateMenu
- CMFCToolBarMenuButton [MFC], CreatePopupMenu
- CMFCToolBarMenuButton [MFC], EnableQuickCustomize
- CMFCToolBarMenuButton [MFC], GetCommands
- CMFCToolBarMenuButton [MFC], GetImageRect
- CMFCToolBarMenuButton [MFC], GetPaletteRows
- CMFCToolBarMenuButton [MFC], GetPopupMenu
- CMFCToolBarMenuButton [MFC], HasButton
- CMFCToolBarMenuButton [MFC], HaveHotBorder
- CMFCToolBarMenuButton [MFC], IsBorder
- CMFCToolBarMenuButton [MFC], IsClickedOnMenu
- CMFCToolBarMenuButton [MFC], IsDroppedDown
- CMFCToolBarMenuButton [MFC], IsEmptyMenuAllowed
- CMFCToolBarMenuButton [MFC], IsExclusive
- CMFCToolBarMenuButton [MFC], IsMenuPaletteMode
- CMFCToolBarMenuButton [MFC], IsQuickMode
- CMFCToolBarMenuButton [MFC], IsTearOffMenu
- CMFCToolBarMenuButton [MFC], OnAfterCreatePopupMenu
- CMFCToolBarMenuButton [MFC], OnBeforeDrag
- CMFCToolBarMenuButton [MFC], OnCalculateSize
- CMFCToolBarMenuButton [MFC], OnCancelMode
- CMFCToolBarMenuButton [MFC], OnChangeParentWnd
- CMFCToolBarMenuButton [MFC], OnClick
- CMFCToolBarMenuButton [MFC], OnClickMenuItem
- CMFCToolBarMenuButton [MFC], OnContextHelp
- CMFCToolBarMenuButton [MFC], OnDraw
- CMFCToolBarMenuButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarMenuButton [MFC], OpenPopupMenu
- CMFCToolBarMenuButton [MFC], ResetImageToDefault
- CMFCToolBarMenuButton [MFC], SaveBarState
- CMFCToolBarMenuButton [MFC], Serialize
- CMFCToolBarMenuButton [MFC], SetACCData
- CMFCToolBarMenuButton [MFC], SetMenuOnly
- CMFCToolBarMenuButton [MFC], SetMenuPaletteMode
- CMFCToolBarMenuButton [MFC], SetMessageWnd
- CMFCToolBarMenuButton [MFC], SetRadio
- CMFCToolBarMenuButton [MFC], SetTearOff
- CMFCToolBarMenuButton [MFC], DrawDocumentIcon
- CMFCToolBarMenuButton [MFC], m_bAlwaysCallOwnerDraw
ms.assetid: cfa50176-7e4b-4527-9904-86a1b48fc1bc
ms.openlocfilehash: 883d6a9242066289f15e58179a03c4f609699141
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/15/2019
ms.locfileid: "69504715"
---
# <a name="cmfctoolbarmenubutton-class"></a>Klasa CMFCToolBarMenuButton

Przycisk paska narzędzi, który zawiera menu rozwijane.
Aby uzyskać więcej szczegółów, zobacz kod źródłowy znajdujący się w folderze **VC\\atlmfc\\src\\MFC** instalacji programu Visual Studio.

## <a name="syntax"></a>Składnia

```
class CMFCToolBarMenuButton : public CMFCToolBarButton
```

## <a name="members"></a>Elementy członkowskie

### <a name="public-constructors"></a>Konstruktory publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CMFCToolBarMenuButton::CMFCToolBarMenuButton](#cmfctoolbarmenubutton)|Konstruuje `CMFCToolBarMenuButton` obiekt.|

### <a name="public-methods"></a>Metody publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CMFCToolBarMenuButton:: CompareWith —](#comparewith)|Porównuje to wystąpienie z podanym `CMFCToolBarButton` obiektem. (Przesłania [CMFCToolBarButton:: CompareWith —](../../mfc/reference/cmfctoolbarbutton-class.md#comparewith).)|
|[CMFCToolBarMenuButton::CopyFrom](#copyfrom)|Kopiuje właściwości innego przycisku paska narzędzi do bieżącego przycisku. (Przesłania [CMFCToolBarButton:: CopyFrom](../../mfc/reference/cmfctoolbarbutton-class.md#copyfrom).)|
|[CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu)|Inicjuje menu paska narzędzi z dojścia do menu systemu Windows.|
|[CMFCToolBarMenuButton:: \ menu](#createmenu)|Tworzy menu systemu Windows, które składa się z poleceń z menu paska narzędzi. Zwraca uchwyt do menu systemu Windows.|
|[CMFCToolBarMenuButton::CreatePopupMenu](#createpopupmenu)|Tworzy obiekt menu podręcznego ( [Klasa CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)), aby wyświetlić menu paska narzędzi.|
|[CMFCToolBarMenuButton::EnableQuickCustomize](#enablequickcustomize)||
|[CMFCToolBarMenuButton:: GetCommands](#getcommands)|Zapewnia dostęp tylko do odczytu do listy poleceń w menu paska narzędzi.|
|[CMFCToolBarMenuButton::GetImageRect](#getimagerect)|Pobiera prostokąt ograniczenia dla obrazu przycisku.|
|[CMFCToolBarMenuButton::GetPaletteRows](#getpaletterows)|Zwraca liczbę wierszy w menu podręcznym, gdy menu jest w trybie palety.|
|[CMFCToolBarMenuButton::GetPopupMenu](#getpopupmenu)|Zwraca wskaźnik do obiektu menu podręcznego, który jest skojarzony z przyciskiem.|
|[CMFCToolBarMenuButton::HasButton](#hasbutton)||
|[CMFCToolBarMenuButton::HaveHotBorder](#havehotborder)|Określa, czy obramowanie przycisku ma być wyświetlane, gdy użytkownik wybierze przycisk. (Przesłania [CMFCToolBarButton:: HaveHotBorder](../../mfc/reference/cmfctoolbarbutton-class.md#havehotborder).)|
|[CMFCToolBarMenuButton:: isborder](#isborder)||
|[CMFCToolBarMenuButton::IsClickedOnMenu](#isclickedonmenu)||
|[CMFCToolBarMenuButton::IsDroppedDown](#isdroppeddown)|Określa, czy wyświetlane jest menu podręczne.|
|[CMFCToolBarMenuButton::IsEmptyMenuAllowed](#isemptymenuallowed)|Wywoływane przez platformę, aby określić, czy użytkownik może otworzyć podmenu z wybranego elementu menu.|
|[CMFCToolBarMenuButton:: iswyłącznooci](#isexclusive)|Określa, czy przycisk jest w trybie wyłączności, czyli czy menu podręczne pozostaje otwarte nawet wtedy, gdy użytkownik przesuwa wskaźnik myszy nad innym paskiem narzędzi lub przyciskiem.|
|[CMFCToolBarMenuButton::IsMenuPaletteMode](#ismenupalettemode)|Określa, czy menu podręczne jest w trybie palety.|
|[CMFCToolBarMenuButton:: isquickmode](#isquickmode)||
|[CMFCToolBarMenuButton::IsTearOffMenu](#istearoffmenu)|Określa, czy menu podręczne ma pasek odrywany.|
|[CMFCToolBarMenuButton::OnAfterCreatePopupMenu](#onaftercreatepopupmenu)||
|[CMFCToolBarMenuButton::OnBeforeDrag](#onbeforedrag)|Określa, czy przycisk może być przeciągany. (Przesłania [CMFCToolBarButton:: OnBeforeDrag](../../mfc/reference/cmfctoolbarbutton-class.md#onbeforedrag).)|
|[CMFCToolBarMenuButton::OnCalculateSize](#oncalculatesize)|Wywoływane przez platformę, by obliczyć rozmiar przycisku dla określonego kontekstu urządzenia i stanu dokowania. (Przesłania [CMFCToolBarButton:: OnCalculateSize](../../mfc/reference/cmfctoolbarbutton-class.md#oncalculatesize).)|
|[CMFCToolBarMenuButton:: oncancelmode](#oncancelmode)|Wywoływane przez platformę, aby obsłużyć komunikat [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) . (Przesłania [CMFCToolBarButton::](../../mfc/reference/cmfctoolbarbutton-class.md#oncancelmode)oncancelmode).|
|[CMFCToolBarMenuButton::OnChangeParentWnd](#onchangeparentwnd)|Wywoływane przez platformę, gdy przycisk zostanie wstawiony do nowego paska narzędzi. (Przesłania [CMFCToolBarButton:: OnChangeParentWnd](cmfctoolbarbutton-class.md#onchangeparentwnd).)|
|[CMFCToolBarMenuButton:: onkliknięcia](#onclick)|Wywoływane przez platformę, gdy użytkownik kliknie przycisk myszy. (Przesłania [CMFCToolBarButton:: onkliknięciu](../../mfc/reference/cmfctoolbarbutton-class.md#onclick).)|
|[CMFCToolBarMenuButton::OnClickMenuItem](#onclickmenuitem)|Wywoływane przez platformę, gdy użytkownik wybierze element z menu podręcznego.|
|[CMFCToolBarMenuButton::OnContextHelp](#oncontexthelp)|Wywoływane przez platformę, gdy nadrzędny pasek narzędzi obsługuje komunikat WM_HELPHITTEST. (Przesłania [CMFCToolBarButton:: OnContextHelp](../../mfc/reference/cmfctoolbarbutton-class.md#oncontexthelp).)|
|[CMFCToolBarMenuButton:: OnDraw](#ondraw)|Wywoływane przez platformę, by narysować przycisk przy użyciu określonych stylów i opcji. (Przesłania [CMFCToolBarButton:: OnDraw](../../mfc/reference/cmfctoolbarbutton-class.md#ondraw).)|
|[CMFCToolBarMenuButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Wywoływane przez platformę, aby narysować przycisk w okienku **polecenia** okna dialogowego **Dostosowywanie** . (Przesłania [CMFCToolBarButton:: OnDrawOnCustomizeList](../../mfc/reference/cmfctoolbarbutton-class.md#ondrawoncustomizelist).)|
|[CMFCToolBarMenuButton::OpenPopupMenu](#openpopupmenu)|Wywoływane przez platformę, gdy użytkownik otwiera menu podręczne.|
|[CMFCToolBarMenuButton::ResetImageToDefault](#resetimagetodefault)|Ustawia wartość domyślną obrazu, który jest skojarzony z przyciskiem. (Przesłania [CMFCToolBarButton:: ResetImageToDefault](../../mfc/reference/cmfctoolbarbutton-class.md#resetimagetodefault).)|
|[CMFCToolBarMenuButton::SaveBarState](#savebarstate)|Zapisuje stan przycisku paska narzędzi. (Przesłania [CMFCToolBarButton:: SaveBarState](../../mfc/reference/cmfctoolbarbutton-class.md#savebarstate).)|
|[CMFCToolBarMenuButton:: serializować](#serialize)|Odczytuje ten obiekt z archiwum lub zapisuje je w archiwum. (Przesłania [CMFCToolBarButton:: serializować](../../mfc/reference/cmfctoolbarbutton-class.md#serialize)).|
|[CMFCToolBarMenuButton::SetACCData](#setaccdata)|Wypełnia udostępniony `CAccessibilityData` obiekt z danymi dostępności za pomocą przycisku paska narzędzi. (Przesłania [CMFCToolBarButton:: SetACCData](../../mfc/reference/cmfctoolbarbutton-class.md#setaccdata).)|
|[CMFCToolBarMenuButton::SetMenuOnly](#setmenuonly)|Określa, czy przycisk można dodać do paska narzędzi.|
|[CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode)|Określa, czy menu podręczne jest w trybie palety.|
|[CMFCToolBarMenuButton::SetMessageWnd](#setmessagewnd)||
|[CMFCToolBarMenuButton:: SetRadio](#setradio)|Wymusza przycisk menu paska narzędzi, aby wyświetlić ikonę wskazującą, że jest zaznaczona.|
|[CMFCToolBarMenuButton::SetTearOff](#settearoff)|Określa identyfikator paska dla menu podręcznego.|

### <a name="protected-methods"></a>Metody chronione

|Nazwa|Opis|
|----------|-----------------|
|[CMFCToolBarMenuButton::D rawDocumentIcon](#drawdocumenticon)|Rysuje ikonę na przycisku menu.|

### <a name="data-members"></a>Elementy członkowskie danych

|Nazwa|Opis|
|----------|-----------------|
|[CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw](#m_balwayscallownerdraw)|Jeśli wartość jest równa TRUE, struktura zawsze wywołuje [CFrameWndEx:: OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) po narysowaniu przycisku.|

## <a name="remarks"></a>Uwagi

`CMFCToolBarMenuButton` Może pojawić się jako menu, element menu, który ma podmenu, przycisk, który wykonuje polecenie lub wyświetla menu, lub przycisk, który wyświetla tylko menu. Możesz określić zachowanie i wygląd przycisku menu, określając parametry, takie jak obraz, tekst, uchwyt menu i identyfikator polecenia, które są skojarzone z przyciskiem w konstruktorze `CMFCToolbarMenuButton::CMFCToolbarMenuButton`.

Klasa niestandardowa pochodna `CMFCToolbarMenuButton` klasy musi używać makra [DECLARE_SERIAL](run-time-object-model-services.md#declare_serial) . Makro [DECLARE_DYNCREATE](run-time-object-model-services.md#declare_dyncreate) generuje błąd podczas zamykania aplikacji.

## <a name="example"></a>Przykład

Poniższy przykład ilustruje sposób konfigurowania `CMFCToolBarMenuButton` obiektu. Kod pokazuje, jak określić, że menu rozwijane jest w trybie palety i określa identyfikator paska odrywania, który jest tworzony, gdy użytkownik przeciągnie przycisk menu poza pasek menu. Ten fragment kodu jest częścią [przykładu Notatnika programu Word](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#10](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarchia dziedziczenia

[CObject](cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

[CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md)

## <a name="requirements"></a>Wymagania

**Nagłówek:** afxtoolbarmenubutton. h

##  <a name="cmfctoolbarmenubutton"></a>CMFCToolBarMenuButton::CMFCToolBarMenuButton

Konstruuje `CMFCToolBarMenuButton` obiekt.

```
CMFCToolBarMenuButton();
CMFCToolBarMenuButton(const CMFCToolBarMenuButton& src);

CMFCToolBarMenuButton(
    UINT uiID,
    HMENU hMenu,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE);
```

### <a name="parameters"></a>Parametry

*SRC*<br/>
podczas Istniejący `CMFCToolBarMenuButton` obiekt do skopiowania do tego `CMFCToolBarMenuButton` obiektu.

*uiID*<br/>
podczas Identyfikator polecenia do wykonania, gdy użytkownik kliknie przycisk; lub (UINT)-1 dla przycisku menu, który nie wykonuje bezpośrednio polecenia.

*hMenu*<br/>
podczas Uchwyt do menu; lub wartość NULL, jeśli przycisk nie ma menu.

*iImage*<br/>
podczas Indeks obrazu przycisku; lub-1, jeśli ten przycisk nie ma ikony lub używa ikony dla polecenia określonego przez *uiID*. Indeks jest taki sam dla każdego `CMFCToolBarImages` obiektu w aplikacji.

*lpszText*<br/>
podczas Tekst przycisku menu paska narzędzi.

*bUserButton*<br/>
podczas TRUE, jeśli przycisk wyświetla obraz zdefiniowany przez użytkownika; Wartość FALSE, jeśli przycisk wyświetla wstępnie zdefiniowany obraz skojarzony z poleceniem określonym przez *uiID*.

### <a name="remarks"></a>Uwagi

Jeśli *uiID* jest PRAWIDŁOWYm identyfikatorem polecenia, przycisk wykonuje to polecenie po kliknięciu przez użytkownika. Jeśli *HMENU* jest prawidłowym uchwytem menu, przycisk udostępnia menu rozwijane, gdy pojawia się on na pasku narzędzi lub podmenu, gdy pojawia się w menu. Jeśli zarówno *uiID* , jak i *HMENU* są prawidłowe, przycisk jest przyciskiem podziału z częścią, która wykona polecenie po kliknięciu go przez użytkownika, a częścią ze strzałką w dół, która spowoduje wyświetlenie menu po kliknięciu go przez użytkownika. Jeśli jednak *HMENU* jest prawidłowy, użytkownik nie będzie mógł kliknąć przycisku, aby wykonać polecenie, gdy przycisk zostanie wstawiony do menu.

### <a name="example"></a>Przykład

Poniższy przykład ilustruje sposób konstruowania obiektu `CMFCToolBarMenuButton` klasy. Ten fragment kodu jest częścią [przykładu Notatnika programu Word](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#9](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_2.cpp)]

##  <a name="comparewith"></a>CMFCToolBarMenuButton:: CompareWith —

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parametry

podczas *inne*<br/>

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="copyfrom"></a>CMFCToolBarMenuButton::CopyFrom

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parametry

podczas *src*<br/>

### <a name="remarks"></a>Uwagi

##  <a name="createfrommenu"></a>CMFCToolBarMenuButton::CreateFromMenu

Inicjuje menu paska narzędzi z dojścia do menu systemu Windows.

```
virtual void CreateFromMenu(HMENU hMenu);
```

### <a name="parameters"></a>Parametry

*hMenu*<br/>
podczas Uchwyt do menu.

### <a name="remarks"></a>Uwagi

Przycisk menu paska narzędzi może wyświetlić podmenu rozwijane.

Struktura wywołuje tę metodę, aby zainicjować polecenia w podmenu z menu.

##  <a name="createmenu"></a>CMFCToolBarMenuButton:: \ menu

Tworzy menu, które składa się z poleceń w menu paska narzędzi. Zwraca uchwyt do menu.

```
virtual HMENU CreateMenu() const;
```

### <a name="return-value"></a>Wartość zwracana

Uchwyt do menu, jeśli powodzenie. Wartość NULL, jeśli lista poleceń skojarzonych z przyciskiem menu paska narzędzi jest pusta.

### <a name="remarks"></a>Uwagi

Można zastąpić tę metodę w klasie pochodnej, aby dostosować sposób generowania menu.

##  <a name="createpopupmenu"></a>CMFCToolBarMenuButton::CreatePopupMenu

`CMFCPopupMenu` Tworzy obiekt do wyświetlania menu paska narzędzi.

```
virtual CMFCPopupMenu* CreatePopupMenu();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do `CMFCPopupMenu` obiektu, który wyświetla menu rozwijane skojarzone z menu paska narzędzi.

### <a name="remarks"></a>Uwagi

Ta metoda jest wywoływana przez platformę w celu przygotowania wyświetlania menu rozwijanego skojarzonego z przyciskiem.

Domyślna implementacja tylko konstruuje i zwraca nowy `CMFCPopupMenu` obiekt. Zastąp tę metodę, jeśli chcesz użyć typu pochodnego [klasy CMFCPopupMenu](cmfcpopupmenu-class.md) lub dokonać dodatkowej inicjalizacji.

##  <a name="drawdocumenticon"></a>CMFCToolBarMenuButton::D rawDocumentIcon

Rysuje ikonę dokumentu na przycisku menu.

```
void DrawDocumentIcon(
    CDC* pDC,
    const CRect& rectImage,
    HICON hIcon);
```

### <a name="parameters"></a>Parametry

*pDC*<br/>
podczas Wskaźnik do kontekstu urządzenia.

*rectImage*<br/>
podczas Współrzędne prostokąta obwiedni obrazu.

*hIcon*<br/>
podczas Uchwyt do ikony.

### <a name="remarks"></a>Uwagi

Ta metoda przyjmuje ikonę dokumentu i rysuje ją na przycisku menu, wyśrodkowane w obszarze określonym przez *rectImage*.

##  <a name="enablequickcustomize"></a>CMFCToolBarMenuButton::EnableQuickCustomize

```
void EnableQuickCustomize();
```

### <a name="remarks"></a>Uwagi

##  <a name="hasbutton"></a>CMFCToolBarMenuButton::HasButton

```
virtual BOOL HasButton() const;
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="havehotborder"></a>CMFCToolBarMenuButton::HaveHotBorder

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="isborder"></a>CMFCToolBarMenuButton:: isborder

```
virtual BOOL IsBorder() const;
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="isclickedonmenu"></a>CMFCToolBarMenuButton::IsClickedOnMenu

```
BOOL IsClickedOnMenu() const;
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="isquickmode"></a>CMFCToolBarMenuButton:: isquickmode

```
BOOL IsQuickMode();
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="getcommands"></a>CMFCToolBarMenuButton:: GetCommands

Zapewnia dostęp tylko do odczytu do listy poleceń w menu paska narzędzi.

```
const CObList& GetCommands() const;
```

### <a name="return-value"></a>Wartość zwracana

Odwołanie stałe do obiektu [klasy CObList](../../mfc/reference/coblist-class.md) , który zawiera kolekcję obiektów [klasy CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) .

### <a name="remarks"></a>Uwagi

Przycisk menu paska narzędzi może wyświetlić podmenu. Możesz podać listę poleceń w podmenu konstruktora lub w [CMFCToolBarMenuButton:: CreateFromMenu](#createfrommenu) jako uchwyt do menu (HMENU). Menu jest konwertowane na listę obiektów, które pochodzą z [klasy CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) i są przechowywane w obiekcie wewnętrznym `CObList` . Możesz uzyskać dostęp do tej listy, wywołując tę metodę.

##  <a name="getimagerect"></a>CMFCToolBarMenuButton::GetImageRect

Pobiera prostokąt ograniczenia dla obrazu przycisku.

```
void GetImageRect(CRect& rectImage);
```

### <a name="parameters"></a>Parametry

*rectImage*<br/>
określoną Odwołanie do `CRect` obiektu, który odbiera współrzędne prostokąta obwiedni obrazu.

##  <a name="getpaletterows"></a>CMFCToolBarMenuButton::GetPaletteRows

Zwraca liczbę wierszy z menu rozwijanego, gdy menu jest w trybie palety.

```
int GetPaletteRows() const;
```

### <a name="return-value"></a>Wartość zwracana

Liczba wierszy w palecie.

### <a name="remarks"></a>Uwagi

Gdy przycisk menu jest ustawiony na tryb palety, elementy menu będą wyświetlane w wielu kolumnach z ograniczoną liczbą wierszy. Wywołaj tę metodę, aby uzyskać liczbę wierszy. Można włączyć lub wyłączyć tryb palety oraz określić liczbę wierszy przy użyciu [CMFCToolBarMenuButton:: SetMenuPaletteMode](#setmenupalettemode).

##  <a name="getpopupmenu"></a>CMFCToolBarMenuButton::GetPopupMenu

Zwraca wskaźnik do obiektu [klasy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) , który reprezentuje menu rozwijane przycisku.

```
CMFCPopupMenu* GetPopupMenu() const;
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do obiektu [klasy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) , który został utworzony, gdy struktura nabiera podmenu przycisku menu paska narzędzi. Wartość NULL, jeśli nie jest wyświetlane żadne podmenu.

### <a name="remarks"></a>Uwagi

Gdy przycisk menu paska narzędzi wyświetla menu rozwijane, przycisk tworzy obiekt [klasy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) do reprezentowania menu. Wywołaj tę metodę, aby uzyskać wskaźnik do `CMFCPopupMenu` obiektu. Zwrócony wskaźnik nie powinien być przechowywany, ponieważ jest tymczasowy i jest nieprawidłowy, gdy użytkownik zamknie menu rozwijane.

##  <a name="isdroppeddown"></a>CMFCToolBarMenuButton::IsDroppedDown

Wskazuje, czy menu podręczne jest aktualnie wyświetlane.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Wartość zwracana

TRUE, jeśli przycisk menu paska narzędzi wyświetla jego podmenu; w przeciwnym razie FALSE.

##  <a name="isemptymenuallowed"></a>CMFCToolBarMenuButton::IsEmptyMenuAllowed

Określa, czy elementy menu wyświetlają puste podmenu.

```
virtual BOOL IsEmptyMenuAllowed() const;
```

### <a name="return-value"></a>Wartość zwracana

Ma wartość TRUE, jeśli struktura otwiera podmenu z aktualnie wybranego elementu menu, nawet gdy podmenu jest puste. w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Struktura wywołuje tę metodę, gdy użytkownik próbuje otworzyć podmenu z aktualnie wybranego elementu menu. Jeśli podmenu jest puste i `IsEmptyMenuAllowed` zwraca wartość false, podmenu nie zostanie otwarte.

Domyślna implementacja zwraca wartość FALSE. Zastąp tę metodę, aby dostosować to zachowanie.

##  <a name="isexclusive"></a>CMFCToolBarMenuButton:: iswyłącznooci

Wskazuje, czy przycisk jest w trybie wyłączności.

```
virtual BOOL IsExclusive() const;
```

### <a name="return-value"></a>Wartość zwracana

Ma wartość TRUE, jeśli przycisk działa w trybie wyłączności; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Gdy użytkownik otwiera menu podręczne dla przycisku, a następnie przesuwa wskaźnik myszy nad innym paskiem narzędzi lub przyciskiem menu, menu podręczne jest zamykane, chyba że przycisk jest w trybie wyłączności.

Domyślna implementacja zawsze zwraca wartość FALSE. Zastąp tę metodę w klasie pochodnej, jeśli chcesz włączyć tryb wyłączny.

##  <a name="ismenupalettemode"></a>CMFCToolBarMenuButton::IsMenuPaletteMode

Określa, czy menu rozwijane jest w trybie palety.

```
BOOL IsMenuPaletteMode() const;
```

### <a name="return-value"></a>Wartość zwracana

Ma wartość TRUE, jeśli tryb palety jest włączony, w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Gdy przycisk menu jest ustawiony na tryb palety, elementy menu są wyświetlane w wielu kolumnach z ograniczoną liczbą wierszy. Wywołaj tę metodę, aby uzyskać liczbę wierszy. Możesz włączyć lub wyłączyć tryb palety, wywołując [CMFCToolBarMenuButton:: SetMenuPaletteMode](#setmenupalettemode).

##  <a name="istearoffmenu"></a>CMFCToolBarMenuButton::IsTearOffMenu

Wskazuje, czy menu rozwijane ma pasek odrywany.

```
virtual BOOL IsTearOffMenu() const;
```

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli przycisk menu paska narzędzi ma pasek odrywany; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Aby włączyć funkcję odrywania i ustawić identyfikator paska odrywania, wywołaj [CMFCToolBarMenuButton:: SetTearOff](#settearoff).

##  <a name="m_balwayscallownerdraw"></a>CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw

Określa, czy struktura zawsze wywołuje [CFrameWndEx:: OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) po narysowaniu przycisku.

```
static BOOL m_bAlwaysCallOwnerDraw;
```

### <a name="remarks"></a>Uwagi

Gdy ta zmienna elementu członkowskiego ma wartość TRUE, przycisk zawsze wywołuje metodę [CFrameWndEx:: OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) w celu wyświetlenia obrazu na przycisku. Gdy `m_bAlwaysCallOwnerDraw` ma wartość false, sam przycisk rysuje obraz, jeśli obraz jest wstępnie zdefiniowany. W przeciwnym razie wywołuje `OnDrawMenuImage`.

##  <a name="onaftercreatepopupmenu"></a>CMFCToolBarMenuButton::OnAfterCreatePopupMenu

```
virtual void OnAfterCreatePopupMenu();
```

### <a name="remarks"></a>Uwagi

##  <a name="onbeforedrag"></a>CMFCToolBarMenuButton::OnBeforeDrag

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="oncalculatesize"></a>CMFCToolBarMenuButton::OnCalculateSize

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parametry

podczas *kontroler PDC*<br/>
podczas *sizeDefault*<br/>
podczas *bHorz*<br/>

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="oncancelmode"></a>CMFCToolBarMenuButton:: oncancelmode

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Uwagi

##  <a name="onchangeparentwnd"></a>CMFCToolBarMenuButton::OnChangeParentWnd

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parametry

podczas *pWndParent*<br/>

### <a name="remarks"></a>Uwagi

##  <a name="onclick"></a>CMFCToolBarMenuButton:: onkliknięcia

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay = TRUE);
```

### <a name="parameters"></a>Parametry

podczas *pWnd*<br/>
podczas *bDelay*<br/>

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="onclickmenuitem"></a>CMFCToolBarMenuButton::OnClickMenuItem

Wywoływane przez platformę, gdy użytkownik wybierze element z menu rozwijanego.

```
virtual BOOL OnClickMenuItem();
```

### <a name="return-value"></a>Wartość zwracana

Wartość FALSE, jeśli struktura powinna kontynuować domyślne przetwarzanie elementów menu; w przeciwnym razie wartość TRUE. Domyślna implementacja zawsze zwraca wartość FALSE.

### <a name="remarks"></a>Uwagi

Gdy użytkownik kliknie element menu, struktura wykonuje polecenie skojarzone z tym elementem.

Aby dostosować przetwarzanie elementów menu, Przesłoń `OnClickMenuItem` w klasie `CMFCToolBarMenuButton` pochodnej klasy. Należy również przesłonić [CFrameWndEx:: OnShowPopupMenu](../../mfc/reference/cframewndex-class.md#onshowpopupmenu) i zastąpić przyciski menu, które wymagają specjalnego przetwarzania z wystąpieniami klasy pochodnej.

##  <a name="oncontexthelp"></a>CMFCToolBarMenuButton::OnContextHelp

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parametry

podczas *pWnd*<br/>

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="ondraw"></a>CMFCToolBarMenuButton:: OnDraw

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz = TRUE,
    BOOL bCustomizeMode = FALSE,
    BOOL bHighlight = FALSE,
    BOOL bDrawBorder = TRUE,
    BOOL bGrayDisabledButtons = TRUE);
```

### <a name="parameters"></a>Parametry

podczas *kontroler PDC*<br/>
podczas *prostokąt*<br/>
podczas *pImages*<br/>
podczas *bHorz*<br/>
podczas *bCustomizeMode*<br/>
podczas *bHighlight*<br/>
podczas *bDrawBorder*<br/>
podczas *bGrayDisabledButtons*<br/>

### <a name="remarks"></a>Uwagi

##  <a name="ondrawoncustomizelist"></a>CMFCToolBarMenuButton::OnDrawOnCustomizeList

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parametry

podczas *kontroler PDC*<br/>
podczas *prostokąt*<br/>
podczas *bSelected*<br/>

### <a name="return-value"></a>Wartość zwracana

### <a name="remarks"></a>Uwagi

##  <a name="openpopupmenu"></a>CMFCToolBarMenuButton::OpenPopupMenu

Wywoływane przez platformę, gdy użytkownik otwiera menu rozwijane przycisku menu paska narzędzi.

```
virtual BOOL OpenPopupMenu(CWnd* pWnd=NULL);
```

### <a name="parameters"></a>Parametry

*pWnd*<br/>
podczas Określa okno, które odbiera polecenia menu rozwijanego. Może mieć wartość NULL tylko wtedy, gdy przycisk menu paska narzędzi ma okno nadrzędne.

### <a name="return-value"></a>Wartość zwracana

Wartość TRUE, gdy obiekt [klasy CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) został utworzony i otwarty pomyślnie; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Ta funkcja jest wywoływana przez platformę, gdy użytkownik otwiera menu rozwijane za pomocą przycisku menu paska narzędzi.

##  <a name="resetimagetodefault"></a>CMFCToolBarMenuButton::ResetImageToDefault

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Uwagi

##  <a name="savebarstate"></a>CMFCToolBarMenuButton::SaveBarState

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Uwagi

Struktura wywołuje tę metodę, gdy tworzy przycisk paska narzędzi w wyniku operacji przeciągania i upuszczania. Ta metoda wywołuje metodę [CMFCPopupMenu:: SaveState](../../mfc/reference/cmfcpopupmenu-class.md#savestate) w menu podręcznym najwyższego poziomu, które powoduje, że przycisk nadrzędny menu podręcznego spowoduje ponowne utworzenie menu.

##  <a name="serialize"></a>CMFCToolBarMenuButton:: serializować

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parametry

podczas *AR*<br/>

### <a name="remarks"></a>Uwagi

##  <a name="setaccdata"></a>CMFCToolBarMenuButton::SetACCData

Ustawia dane dostępności dla elementu wstążki.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parametry

*pParent*<br/>
Okno nadrzędne dla elementu wstążki.

*Data*<br/>
Dane ułatwień dostępu dla elementu wstążki.

### <a name="return-value"></a>Wartość zwracana

Zawsze zwraca wartość TRUE.

### <a name="remarks"></a>Uwagi

Domyślnie ta metoda ustawia dane dostępności dla elementu wstążki i zawsze zwraca wartość TRUE. Zastąp tę metodę, aby ustawić dane dostępności i zwrócić wartość wskazującą powodzenie lub niepowodzenie.

##  <a name="setmenuonly"></a>CMFCToolBarMenuButton::SetMenuOnly

Określa, czy przycisk jest rysowany jako przycisk menu czy przycisk podziału, gdy ma prawidłowy identyfikator polecenia i podmenu.

```
void SetMenuOnly(BOOL bMenuOnly);
```

### <a name="parameters"></a>Parametry

*bMenuOnly*<br/>
podczas TRUE, aby pokazać ten przycisk jako przycisk menu, gdy ma zarówno prawidłowy identyfikator polecenia, jak i podmenu, wartość FAŁSZ wyświetla ten przycisk jako przycisk podziału, gdy ma prawidłowy identyfikator polecenia i podmenu.

### <a name="remarks"></a>Uwagi

Zazwyczaj, gdy przycisk menu paska narzędzi ma zarówno podmenu, jak i identyfikator polecenia, menu wydaje się być przyciskiem podziału, który ma przycisk Main i podłączoną strzałkę w dół. Jeśli wywołasz tę metodę, a *bMenuOnly* ma wartość true, przycisk zamiast niego pojawi się jako pojedynczy przycisk menu ze strzałką w dół na przycisku. Gdy użytkownik kliknie strzałkę w dowolnym trybie, zostanie otwarte podmenu, a po kliknięciu przez użytkownika części przycisku w dowolnym trybie, struktura wykonuje polecenie.

##  <a name="setmenupalettemode"></a>CMFCToolBarMenuButton::SetMenuPaletteMode

Określa, czy menu rozwijane jest w trybie palety.

```
void SetMenuPaletteMode(
    BOOL bMenuPaletteMode=TRUE,
    int nPaletteRows=1);
```

### <a name="parameters"></a>Parametry

*bMenuPaletteMode*<br/>
podczas Określa, czy menu rozwijane jest w trybie palety.

*nPaletteRows*<br/>
podczas Liczba wierszy w palecie.

### <a name="remarks"></a>Uwagi

W trybie palety wszystkie elementy menu są wyświetlane jako wielokolumnowa paleta. Należy określić liczbę wierszy przy użyciu *nPaletteRows*.

##  <a name="setmessagewnd"></a>CMFCToolBarMenuButton::SetMessageWnd

```
void SetMessageWnd(CWnd* pWndMessage);
```

### <a name="parameters"></a>Parametry

podczas *pWndMessage*<br/>

### <a name="remarks"></a>Uwagi

##  <a name="setradio"></a>CMFCToolBarMenuButton:: SetRadio

Ustawia przycisk menu paska narzędzi, aby wyświetlić ikonę stylu przycisku radiowego, gdy jest zaznaczone.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Uwagi

Gdy przycisk menu jest rysowany podczas jego zaznaczania, wywołuje [CMFCVisualManager:: OnDrawMenuCheck](../../mfc/reference/cmfcvisualmanager-class.md#ondrawmenucheck) , aby narysować ikonę znacznika wyboru. Domyślnie, `OnDrawMenuCheck` żądania, które w bieżącym programie Visual Manager rysują znacznik wyboru stylu CheckBox w przycisku menu. Po wywołaniu tej metody zamiast tego w bieżącym Menedżerze wizualizacji zostanie umieszczony znacznik wyboru stylu przycisku radiowego. Tej zmiany nie można cofnąć.

Gdy wywołasz tę metodę, a przycisk menu jest aktualnie wyświetlany, zostanie odświeżony.

##  <a name="settearoff"></a>CMFCToolBarMenuButton::SetTearOff

Określa identyfikator paska odrywania dla menu rozwijanego.

```
virtual void SetTearOff(UINT uiBarID);
```

### <a name="parameters"></a>Parametry

*uiBarID*<br/>
podczas Określa nowy identyfikator paska odrywania.

### <a name="remarks"></a>Uwagi

Wywołaj tę metodę, aby określić identyfikator paska odrywania, który jest tworzony, gdy użytkownik przeciąga przycisk menu poza pasek menu. Jeśli parametr *uiBarID* ma wartość 0, użytkownik nie może wycofać przycisku menu.

Wywołaj [CWinAppEx:: EnableTearOffMenus](../../mfc/reference/cwinappex-class.md#enabletearoffmenus) , aby włączyć funkcję menu odrywania w aplikacji.

## <a name="see-also"></a>Zobacz także

[Wykres hierarchii](../../mfc/hierarchy-chart.md)<br/>
[Klasy](../../mfc/reference/mfc-classes.md)<br/>
[Klasa CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)<br/>
[Klasa CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Klasa CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)
