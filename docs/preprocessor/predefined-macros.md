---
title: Wstępnie zdefiniowane makra
description: Wyświetla listę i opisuje wstępnie zdefiniowane makra preprocesora języka Microsoft C++.
ms.custom: update_every_version
ms.date: 06/08/2020
f1_keywords:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
helpviewer_keywords:
- timestamps, preprocessor macro
- cl.exe compiler, version number
- version numbers, C/C++ compiler (cl.exe)
- macros, predefined C++
- preprocessor, macros
- predefined macros
- _ATL_VER macro
- __ATOM__ macro
- __AVX__ macro
- __AVX2__ macro
- __AVX512BW__ macro
- __AVX512CD__ macro
- __AVX512DQ__ macro
- __AVX512F__ macro
- __AVX512VL__ macro
- _CHAR_UNSIGNED macro
- __CLR_VER macro
- _CONTROL_FLOW_GUARD macro
- __COUNTER__ macro
- __cplusplus macro
- __cplusplus_cli macro
- __cplusplus_winrt macro
- _CPPRTTI macro
- _CPPUNWIND macro
- __DATE__ macro
- _DEBUG macro
- _DLL macro
- __FILE__ macro
- __FUNCDNAME__ macro
- __FUNCSIG__ macro
- __FUNCTION__ macro
- _INTEGRAL_MAX_BITS macro
- _ISO_VOLATILE macro
- _KERNEL_MODE macro
- __LINE__ macro
- _M_AMD64 macro
- _M_ARM macro
- _M_ARM_ARMV7VE macro
- _M_ARM_FP macro
- _M_ARM64 macro
- _M_CEE macro
- _M_CEE_PURE macro
- _M_CEE_SAFE macro
- _M_FP_EXCEPT macro
- _M_FP_FAST macro
- _M_FP_PRECISE macro
- _M_FP_STRICT macro
- _M_IX86 macro
- _M_IX86_FP macro
- _M_X64 macro
- _MANAGED macro
- _MFC_VER macro
- _MSC_BUILD macro
- _MSC_EXTENSIONS macro
- _MSC_FULL_VER macro
- _MSC_VER macro
- _MSVC_LANG macro
- __MSVC_RUNTIME_CHECKS macro
- _MT macro
- _NATIVE_WCHAR_T_DEFINED macro
- _NO_SIZED_DEALLOCATION macro
- _OPENMP macro
- _PREFAST_ macro
- _RESUMABLE_FUNCTIONS_SUPPORTED macro
- _RTC_CONVERSION_CHECKS_ENABLED macro
- __STDC__ macro
- __STDC_HOSTED__ macro
- __STDCPP_THREADS__ macro
- __TIME__ macro
- __TIMESTAMP__ macro
- __VA_ARGS__ macro
- _VC_NODEFAULTLIB macro
- _WCHAR_T_DEFINED macro
- _WIN32 macro
- _WIN64 macro
- _WINRT_DLL macro
- __func__ identifier
ms.assetid: 1cc5f70a-a225-469c-aed0-fe766238e23f
no-loc:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
- __func__
ms.openlocfilehash: 91bfad94638866a9efd196bfec4234bc7d097c18
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84622115"
---
# <a name="predefined-macros"></a>Wstępnie zdefiniowane makra

Kompilator Microsoft C/C++ (MSVC) wstępnie definiuje niektóre makra preprocesora, w zależności od języka (C lub C++), elementu docelowego kompilacji i wybranych opcji kompilatora.

Program MSVC obsługuje wstępnie zdefiniowane makra preprocesora wymagane przez standard ANSI/ISO C99 i standardy ISO C++ 14 i C++ 17. Implementacja obsługuje również kilka innych makr preprocesora specyficznych dla firmy Microsoft. Niektóre makra są definiowane tylko dla określonych środowisk kompilacji lub opcji kompilatora. Poza tym, gdzie zaznaczono, makra są definiowane w całej jednostce tłumaczenia tak, jakby były określone jako **`/D`** argumenty opcji kompilatora. Po zdefiniowaniu makra są rozwijane do określonych wartości przez preprocesor przed kompilacją. Wstępnie zdefiniowane makra nie przyjmują argumentów i nie można ich ponownie zdefiniować.

## <a name="standard-predefined-identifier"></a>Standardowy wstępnie zdefiniowany identyfikator

Kompilator obsługuje ten wstępnie zdefiniowany identyfikator określony przez ISO C99 i ISO C++ 11.

- `__func__`Niekwalifikowana i niezamodyfikowana nazwa funkcji otaczającej jako **statyczna tablica stałych** funkcji **char**.

    ```cpp
    void example(){
        printf("%s\n", __func__);
    } // prints "example"
    ```

## <a name="standard-predefined-macros"></a>Standardowe wstępnie zdefiniowane makra

Kompilator obsługuje te wstępnie zdefiniowane makra określone przez standardy ISO C99 i ISO C++ 17.

- `__cplusplus`Zdefiniowane jako wartość literału liczb całkowitych, gdy jednostka tłumaczenia jest skompilowana jako C++. W przeciwnym razie, niezdefiniowany.

- `__DATE__`Data kompilacji bieżącego pliku źródłowego. Data jest literałem ciągu o stałej długości w postaci *MMM DD RRRR*. Nazwa miesiąca *MMM* jest taka sama jak Skrócona nazwa miesiąca wygenerowanego przez funkcję [asctime](../c-runtime-library/reference/asctime-wasctime.md) środowiska uruchomieniowego języka C (CRT). Pierwszy znak daty *DD* jest spacją, jeśli wartość jest mniejsza niż 10. To makro jest zawsze definiowane.

- `__FILE__`Nazwa bieżącego pliku źródłowego. `__FILE__`rozwija do literału ciągu znaków. Aby upewnić się, że zostanie wyświetlona pełna ścieżka do pliku, użyj [ **`/FC`** (Pełna ścieżka pliku kodu źródłowego w diagnostyce)](../build/reference/fc-full-path-of-source-code-file-in-diagnostics.md). To makro jest zawsze definiowane.

- `__LINE__`Zdefiniowany jako numer wiersza w postaci liczby całkowitej w bieżącym pliku źródłowym. Wartość `__LINE__` makra można zmienić za pomocą `#line` dyrektywy. To makro jest zawsze definiowane.

- `__STDC__`Zdefiniowane jako 1 tylko w przypadku skompilowania jako C i jeśli [**`/Za`**](../build/reference/za-ze-disable-language-extensions.md) określono opcję kompilatora. W przeciwnym razie, niezdefiniowany.

- `__STDC_HOSTED__`Zdefiniowane jako 1, jeśli implementacja jest *implementacją hostowaną*, która obsługuje całą wymaganą bibliotekę standardową. W przeciwnym razie zdefiniowane jako 0.

- `__STDCPP_THREADS__`Zdefiniowane jako 1 i tylko wtedy, gdy program może mieć więcej niż jeden wątek wykonywania i skompilowany jako C++. W przeciwnym razie, niezdefiniowany.

- `__TIME__`Czas tłumaczenia wstępnie przetworzonej jednostki tłumaczenia. Czas jest literałem ciągu znaków w formacie *gg: mm: SS*, tak samo jak czas zwracany przez funkcję CRT [asctime](../c-runtime-library/reference/asctime-wasctime.md) . To makro jest zawsze definiowane.

## <a name="microsoft-specific-predefined-macros"></a>Wstępnie zdefiniowane makra specyficzne dla firmy Microsoft

Program MSVC obsługuje te dodatkowe wstępnie zdefiniowane makra.

- `__ATOM__`Zdefiniowane jako 1, gdy [**`/favor:ATOM`**](../build/reference/favor-optimize-for-architecture-specifics.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX__`Zdefiniowane jako 1, gdy [**`/arch:AVX`**](../build/reference/arch-x86.md) [**`/arch:AVX2`**](../build/reference/arch-x86.md) [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcje kompilatora, lub są ustawione, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX2__`Zdefiniowane jako 1, gdy [**`/arch:AVX2`**](../build/reference/arch-x86.md) [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora lub jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX512BW__`Zdefiniowane jako 1, gdy [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX512CD__`Zdefiniowane jako 1, gdy [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX512DQ__`Zdefiniowane jako 1, gdy [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX512F__`Zdefiniowane jako 1, gdy [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `__AVX512VL__`Zdefiniowane jako 1, gdy [**`/arch:AVX512`**](../build/reference/arch-x86.md) Opcja kompilatora jest ustawiona, a obiekt docelowy kompilatora to x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `_CHAR_UNSIGNED`Zdefiniowane jako 1, jeśli domyślny **`char`** Typ to unsigned. Ta wartość jest definiowana, gdy opcja kompilatora [ **`/J`** (domyślny typ char jest niepodpisana)](../build/reference/j-default-char-type-is-unsigned.md) jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `__CLR_VER`Zdefiniowany jako literał typu Liczba całkowita reprezentująca wersję środowiska uruchomieniowego języka wspólnego (CLR) używanego do kompilowania aplikacji. Wartość jest zakodowana w postaci `Mmmbbbbb` , gdzie `M` jest wersją główną środowiska uruchomieniowego, `mm` jest wersją pomocniczą środowiska uruchomieniowego i `bbbbb` jest numerem kompilacji. `__CLR_VER`jest definiowana, jeśli [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

    ```cpp
    // clr_ver.cpp
    // compile with: /clr
    using namespace System;
    int main() {
       Console::WriteLine(__CLR_VER);
    }
    ```

- `_CONTROL_FLOW_GUARD`Zdefiniowane jako 1, gdy opcja kompilatora [ **`/guard:cf`** (Włącz ochronę przepływu sterowania)](../build/reference/guard-enable-control-flow-guard.md) jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `__COUNTER__`Rozwija do literału liczby całkowitej, który zaczyna się od 0. Wartość jest zwiększana o 1 za każdym razem, gdy jest używana w pliku źródłowym lub w zawartych nagłówkach pliku źródłowego. `__COUNTER__`zapamiętuje swój stan w przypadku używania prekompilowanych nagłówków. To makro jest zawsze definiowane.

  Ten przykład używa `__COUNTER__` do przypisywania unikatowych identyfikatorów do trzech różnych obiektów tego samego typu. `exampleClass`Konstruktor przyjmuje liczbę całkowitą jako parametr. W programie `main` aplikacja deklaruje trzy obiekty typu `exampleClass` , używając `__COUNTER__` jako parametru unikatowego identyfikatora:

    ```cpp
    // macro__COUNTER__.cpp
    // Demonstration of __COUNTER__, assigns unique identifiers to
    // different objects of the same type.
    // Compile by using: cl /EHsc /W4 macro__COUNTER__.cpp
    #include <stdio.h>

    class exampleClass {
        int m_nID;
    public:
        // initialize object with a read-only unique ID
        exampleClass(int nID) : m_nID(nID) {}
        int GetID(void) { return m_nID; }
    };

    int main()
    {
        // __COUNTER__ is initially defined as 0
        exampleClass e1(__COUNTER__);

        // On the second reference, __COUNTER__ is now defined as 1
        exampleClass e2(__COUNTER__);

        // __COUNTER__ is now defined as 2
        exampleClass e3(__COUNTER__);

        printf("e1 ID: %i\n", e1.GetID());
        printf("e2 ID: %i\n", e2.GetID());
        printf("e3 ID: %i\n", e3.GetID());

        // Output
        // ------------------------------
        // e1 ID: 0
        // e2 ID: 1
        // e3 ID: 2

        return 0;
    }
    ```

- `__cplusplus_cli`Zdefiniowane jako wartość literału liczb całkowitych 200406 w przypadku skompilowania jako C++ i [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) ustawiono opcję kompilatora. W przeciwnym razie, niezdefiniowany. Gdy jest zdefiniowany, `__cplusplus_cli` obowiązuje w całej jednostce translacji.

    ```cpp
    // cplusplus_cli.cpp
    // compile by using /clr
    #include "stdio.h"
    int main() {
       #ifdef __cplusplus_cli
          printf("%d\n", __cplusplus_cli);
       #else
          printf("not defined\n");
       #endif
    }
    ```

- `__cplusplus_winrt`Zdefiniowane jako wartość literału liczb całkowitych 201009 podczas kompilowania jako C++ i opcja kompilatora [ **`/ZW`** (kompilacja środowisko wykonawcze systemu Windows)](../build/reference/zw-windows-runtime-compilation.md) jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_CPPRTTI`Zdefiniowane jako 1, jeśli ustawiono opcję kompilatora [ **`/GR`** (Włącz informacje typu run-time)](../build/reference/gr-enable-run-time-type-information.md) . W przeciwnym razie, niezdefiniowany.

- `_CPPUNWIND`Zdefiniowano jako 1, jeśli co najmniej jedna z opcji kompilatora [ **`/GX`** (Włącz obsługę wyjątków)](../build/reference/gx-enable-exception-handling.md), [ **`/clr`** (Kompilacja środowiska uruchomieniowego języka wspólnego)](../build/reference/clr-common-language-runtime-compilation.md)lub [ **`/EH`** (model obsługi wyjątków)](../build/reference/eh-exception-handling-model.md) jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_DEBUG`Zdefiniowane jako 1, gdy [**`/LDd`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MDd`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MTd`**](../build/reference/md-mt-ld-use-run-time-library.md) Opcja kompilatora, lub jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_DLL`Zdefiniowane jako 1, gdy [**`/MD`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MDd`**](../build/reference/md-mt-ld-use-run-time-library.md) ustawiona jest opcja kompilatora lub (WIELOWĄTKOWA Biblioteka DLL). W przeciwnym razie, niezdefiniowany.

- `__FUNCDNAME__`Zdefiniowane jako literał ciągu, który zawiera [nazwę dekoracyjną](../build/reference/decorated-names.md) otaczającej funkcji. Makro jest zdefiniowane tylko w obrębie funkcji. `__FUNCDNAME__`Makro nie jest rozwinięte, jeśli używasz [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opcji kompilatora lub.

   Ten przykład używa `__FUNCDNAME__` makr, `__FUNCSIG__` i `__FUNCTION__` do wyświetlania informacji o funkcji.

   [!code-cpp[NVC_Predefined_Macros_Examples#1](../preprocessor/codesnippet/CPP/predefined-macros_1.cpp)]

- `__FUNCSIG__`Zdefiniowane jako literał ciągu, który zawiera sygnaturę otaczającej funkcji. Makro jest zdefiniowane tylko w obrębie funkcji. `__FUNCSIG__`Makro nie jest rozwinięte, jeśli używasz [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opcji kompilatora lub. Po skompilowaniu dla elementu docelowego 64-bitowego Konwencja wywoływania jest `__cdecl` domyślnie. Przykład użycia można znaleźć w `__FUNCDNAME__` makrze.

- `__FUNCTION__`Zdefiniowane jako literał ciągu, który zawiera niedekoracyjną nazwę otaczającej funkcji. Makro jest zdefiniowane tylko w obrębie funkcji. `__FUNCTION__`Makro nie jest rozwinięte, jeśli używasz [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opcji kompilatora lub. Przykład użycia można znaleźć w `__FUNCDNAME__` makrze.

- `_INTEGRAL_MAX_BITS`Zdefiniowane jako wartość literału liczb całkowitych 64, maksymalny rozmiar (w bitach) dla typu całkowitego bez wektora. To makro jest zawsze definiowane.

   ```cpp
   // integral_max_bits.cpp
   #include <stdio.h>
   int main() {
      printf("%d\n", _INTEGRAL_MAX_BITS);
   }
   ```

- `__INTELLISENSE__`Zdefiniowane jako 1 podczas przejścia kompilatora IntelliSense do środowiska IDE programu Visual Studio. W przeciwnym razie, niezdefiniowany. Możesz użyć tego makra do zabezpieczenia kodu kompilator IntelliSense nie rozpoznaje lub użyć go do przełączania między kompilatorem kompilowania i IntelliSense. Aby uzyskać więcej informacji, zobacz [wskazówki dotyczące rozwiązywania problemów dotyczących Niespowolnienia funkcji IntelliSense](https://devblogs.microsoft.com/cppblog/troubleshooting-tips-for-intellisense-slowness/).

- `_ISO_VOLATILE`Zdefiniowane jako 1, jeśli [**`/volatile:iso`**](../build/reference/volatile-volatile-keyword-interpretation.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_KERNEL_MODE`Zdefiniowane jako 1, jeśli ustawiono opcję kompilatora [ **`/kernel`** (Utwórz plik binarny trybu jądra)](../build/reference/kernel-create-kernel-mode-binary.md) . W przeciwnym razie, niezdefiniowany.

- `_M_AMD64`Zdefiniowane jako wartość literału liczb całkowitych 100 dla kompilacji przeznaczonych dla procesorów x64. W przeciwnym razie, niezdefiniowany.

- `_M_ARM`Zdefiniowane jako wartość literału liczb całkowitych 7 dla kompilacji przeznaczonych dla procesorów ARM. W przeciwnym razie, niezdefiniowany.

- `_M_ARM_ARMV7VE`Zdefiniowane jako 1, gdy [**`/arch:ARMv7VE`**](../build/reference/arch-arm.md) Opcja kompilatora jest ustawiona dla kompilacji przeznaczonych dla procesorów ARM. W przeciwnym razie, niezdefiniowany.

- `_M_ARM_FP`Zdefiniowane jako wartość literału liczb całkowitych, która wskazuje, która [**`/arch`**](../build/reference/arch-arm.md) Opcja kompilatora została ustawiona dla docelowych procesorów ARM. W przeciwnym razie, niezdefiniowany.

  - Wartość w zakresie 30-39, jeśli nie **`/arch`** została określona opcja ARM, wskazująca, że domyślna architektura dla ARM została ustawiona ( `VFPv3` ).

  - Wartość w zakresie 40-49, jeśli **`/arch:VFPv4`** została ustawiona.

  - Aby uzyskać więcej informacji, zobacz [ **`/arch`** (ARM)](../build/reference/arch-arm.md).

- `_M_ARM64`Zdefiniowane jako 1 dla kompilacji przeznaczonych do 64-bitowych procesorów ARM. W przeciwnym razie, niezdefiniowany.

- `_M_CEE`Zdefiniowane jako 001, jeśli ustawiono opcję kompilatora [ **`/clr`** (Kompilacja środowiska uruchomieniowego języka wspólnego)](../build/reference/clr-common-language-runtime-compilation.md) . W przeciwnym razie, niezdefiniowany.

- `_M_CEE_PURE`Przestarzałe począwszy od programu Visual Studio 2015. Zdefiniowane jako 001, jeśli [**`/clr:pure`**](../build/reference/clr-common-language-runtime-compilation.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_CEE_SAFE`Przestarzałe począwszy od programu Visual Studio 2015. Zdefiniowane jako 001, jeśli [**`/clr:safe`**](../build/reference/clr-common-language-runtime-compilation.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_FP_EXCEPT`Zdefiniowane jako 1, jeśli [**`/fp:except`**](../build/reference/fp-specify-floating-point-behavior.md) [**`/fp:strict`**](../build/reference/fp-specify-floating-point-behavior.md) Opcja kompilatora lub jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_FP_FAST`Zdefiniowane jako 1, jeśli [**`/fp:fast`**](../build/reference/fp-specify-floating-point-behavior.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_FP_PRECISE`Zdefiniowane jako 1, jeśli [**`/fp:precise`**](../build/reference/fp-specify-floating-point-behavior.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_FP_STRICT`Zdefiniowane jako 1, jeśli [**`/fp:strict`**](../build/reference/fp-specify-floating-point-behavior.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_M_IX86`Zdefiniowane jako wartość literału liczb całkowitych 600 dla kompilacji przeznaczonych dla procesorów x86. To makro nie jest zdefiniowane dla elementów docelowych kompilacji x64 lub ARM.

- `_M_IX86_FP`Zdefiniowane jako wartość literału liczb całkowitych, która wskazuje [**`/arch`**](../build/reference/arch-arm.md) opcję kompilatora ustawioną lub domyślną. To makro jest zawsze definiowane, gdy element docelowy kompilacji jest procesorem x86. W przeciwnym razie, niezdefiniowany. Po zdefiniowaniu wartość jest:

  - 0, jeśli `/arch:IA32` ustawiono opcję kompilatora.

  - 1, jeśli `/arch:SSE` ustawiono opcję kompilatora.

  - 2, jeśli `/arch:SSE2` `/arch:AVX` `/arch:AVX2` `/arch:AVX512` ustawiono opcję kompilatora,, lub. Ta wartość jest wartością domyślną, jeśli `/arch` nie określono opcji kompilatora. Gdy `/arch:AVX` jest określony, makro `__AVX__` jest również zdefiniowane. Gdy `/arch:AVX2` jest określony, oba `__AVX__` i `__AVX2__` są również zdefiniowane. Gdy `/arch:AVX512` jest określony,,,,,, `__AVX__` `__AVX2__` `__AVX512BW__` `__AVX512CD__` `__AVX512DQ__` `__AVX512F__` , i `__AVX512VL__` są również zdefiniowane.

  - Aby uzyskać więcej informacji, zobacz [ **`/arch`** (x86)](../build/reference/arch-x86.md).

- `_M_X64`Zdefiniowane jako wartość literału liczb całkowitych 100 dla kompilacji przeznaczonych dla procesorów x64. W przeciwnym razie, niezdefiniowany.

- `_MANAGED`Zdefiniowane jako 1, gdy [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_MSC_BUILD`Zdefiniowany jako literał typu Liczba całkowita, który zawiera element numeru wersji kompilatora. Numer poprawki to czwarty element numeru wersji o rozdzielonym okresie. Jeśli na przykład numer wersji kompilatora Microsoft C/C++ to 15.00.20706.01, `_MSC_BUILD` makro daje w wynik 1. To makro jest zawsze definiowane.

- `_MSC_EXTENSIONS`Zdefiniowane jako 1, jeśli jest ustawiona opcja kompilatora włączona [ **`/Ze`** (Włącz rozszerzenia językowe)](../build/reference/za-ze-disable-language-extensions.md) . W przeciwnym razie, niezdefiniowany.

- `_MSC_FULL_VER`Zdefiniowany jako literał typu Integer, który koduje elementy główne, pomocnicze i numery kompilacji numeru wersji kompilatora. Numer główny to pierwszy element z rozdzielonym kropką numerem wersji, numer pomocniczy to drugi element, a numer kompilacji to trzeci element. Jeśli na przykład numer wersji kompilatora Microsoft C/C++ to 15.00.20706.01, `_MSC_FULL_VER` makro daje do 150020706. Wprowadź `cl /?` w wierszu polecenia, aby wyświetlić numer wersji kompilatora. To makro jest zawsze definiowane.

- `_MSC_VER`Zdefiniowane jako literał liczby całkowitej, który koduje główne i pomocnicze elementy numeru wersji kompilatora. Numer główny to pierwszy element rozdzielanego kropką numeru wersji, a numer pomocniczy to drugi element. Jeśli na przykład numer wersji kompilatora Microsoft C/C++ to 17.00.51106.1, `_MSC_VER` makro daje do 1700. Wprowadź `cl /?` w wierszu polecenia, aby wyświetlić numer wersji kompilatora. To makro jest zawsze definiowane.

   | Wersja programu Visual Studio | `_MSC_VER` |
   |--|--|
   | Visual Studio 6.0 | 1200 |
   | Visual Studio .NET 2002 (7,0) | 1300 |
   | Visual Studio .NET 2003 (7,1) | 1310 |
   | Visual Studio 2005 (8,0) | 1400 |
   | Visual Studio 2008 (9,0) | 1500 |
   | Visual Studio 2010 (10,0) | 1600 |
   | Visual Studio 2012 (11,0) | 1700 |
   | Visual Studio 2013 (12,0) | 1800 |
   | Visual Studio 2015 (14,0) | 1900 |
   | RTW programu Visual Studio 2017 (15,0) | 1910 |
   | Visual Studio 2017, wersja 15.3 | 1911 |
   | Visual Studio 2017, wersja 15.5 | 1912 |
   | Visual Studio 2017, wersja 15.6 | 1913 |
   | Visual Studio 2017 w wersji 15.7 | 1914 |
   | Visual Studio 2017 w wersji 15,8 | 1915 |
   | Visual Studio 2017 w wersji 15,9 | 1916 |
   | RTW programu Visual Studio 2019 (16,0) | 1920 |
   | Visual Studio 2019 w wersji 16.1 | 1921 |
   |  Program Visual Studio 2019 w wersji 16.2  | 1922 |
   | Visual Studio 2019 w wersji 16,3 | 1923 |
   |  Program Visual Studio 2019 w wersji 16.4 | 1924 |
   | Visual Studio 2019 w wersji 16,5 | 1925 |
   | Visual Studio 2019 w wersji 16,6 | 1926 |
   | Visual Studio 2019 w wersji 16,7 | 1927 |

   Aby przetestować wersje kompilatora lub aktualizacje w danej wersji programu Visual Studio lub później, użyj `>=` operatora. Można jej użyć w dyrektywie warunkowej w celu porównania `_MSC_VER` z tą znaną wersją. Jeśli masz kilka wzajemnie wykluczających się wersji do porównania, Porządkuj porównania w kolejności malejącej według numeru wersji. Na przykład ten kod sprawdza kompilatory wydane w programie Visual Studio 2017 i nowszych. Następnie sprawdza kompilatory opublikowane w programie lub po nim w programie Visual Studio 2015. Następnie sprawdza wszystkie kompilatory wydane przed Visual Studio 2015:

   ```cpp
   #if _MSC_VER >= 1910
   // . . .
   #elif _MSC_VER >= 1900
   // . . .
   #else
   // . . .
   #endif
   ```

   Aby uzyskać więcej informacji, zobacz [Visual C++ wersja kompilatora](https://devblogs.microsoft.com/cppblog/visual-c-compiler-version/) w blogu zespołu Microsoft C++.

- `_MSVC_LANG`Zdefiniowany jako literał typu Liczba całkowita, który określa Standard języka C++, którego dotyczy kompilator. Jest ono ustawiane tylko w kodzie skompilowanym jako C++. Makro jest wartością literału liczb całkowitych 201402L domyślnie lub po wybraniu [**`/std:c++14`**](../build/reference/std-specify-language-standard-version.md) opcji kompilatora. Jeśli określono opcję kompilatora, makro jest ustawione na 201703L [**`/std:c++17`**](../build/reference/std-specify-language-standard-version.md) . Jest ustawiona na wyższą, nieokreśloną wartość, jeśli [**`/std:c++latest`**](../build/reference/std-specify-language-standard-version.md) określono opcję. W przeciwnym razie makro jest niezdefiniowane. `_MSVC_LANG`W programie Visual Studio 2015 Update 3 dostępne są opcje kompilatora i [ **`/std`** (Określ wersję standardu języka)](../build/reference/std-specify-language-standard-version.md) .

- `__MSVC_RUNTIME_CHECKS`Zdefiniowane jako 1 po ustawieniu jednej z [**`/RTC`**](../build/reference/rtc-run-time-error-checks.md) opcji kompilatora. W przeciwnym razie, niezdefiniowany.

- `_MSVC_TRADITIONAL`Zdefiniowane jako 0, gdy opcja kompilatora trybu zgodności preprocesora [**`/experimental:preprocessor`**](../build/reference/experimental-preprocessor.md) jest ustawiona. Domyślnie zdefiniowane jako 1 lub gdy [**`/experimental:preprocessor-`**](../build/reference/experimental-preprocessor.md) Opcja kompilatora jest ustawiona, aby wskazać, że tradycyjny preprocesor jest używany. `_MSVC_TRADITIONAL`Opcja kompilatora i [ **`/experimental:preprocessor`** (Włącz tryb zgodności preprocesora)](../build/reference/experimental-preprocessor.md) jest dostępna, zaczynając od programu Visual Studio 2017 w wersji 15,8.

   ```cpp
   #if defined(_MSVC_TRADITIONAL) && _MSVC_TRADITIONAL
   // Logic using the traditional preprocessor
   #else
   // Logic using cross-platform compatible preprocessor
   #endif
   ```

- `_MT`Zdefiniowane jako 1, kiedy [ **`/MD`** lub (WIELOWĄTKOWA **`/MDd`** Biblioteka DLL)](../build/reference/md-mt-ld-use-run-time-library.md) lub [ **`/MT`** **`/MTd`** (wielowątkowy)](../build/reference/md-mt-ld-use-run-time-library.md) jest określony. W przeciwnym razie, niezdefiniowany.

- `_NATIVE_WCHAR_T_DEFINED`Zdefiniowane jako 1, gdy [**`/Zc:wchar_t`**](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_OPENMP`Zdefiniowane jako literał liczby całkowitej 200203, jeśli ustawiono opcję kompilatora [ **`/openmp`** (Włącz obsługę OpenMP 2,0)](../build/reference/openmp-enable-openmp-2-0-support.md) . Ta wartość reprezentuje datę specyfikacji OpenMP zaimplementowanej przez MSVC. W przeciwnym razie, niezdefiniowany.

   ```cpp
   // _OPENMP_dir.cpp
   // compile with: /openmp
   #include <stdio.h>
   int main() {
      printf("%d\n", _OPENMP);
   }
   ```

- `_PREFAST_`Zdefiniowane jako 1, gdy [**`/analyze`**](../build/reference/analyze-code-analysis.md) Opcja kompilatora jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `__TIMESTAMP__`Zdefiniowane jako literał ciągu, który zawiera datę i godzinę ostatniej modyfikacji bieżącego pliku źródłowego, w postaci skróconej, stałej długości zwróconej przez [`asctime`](../c-runtime-library/reference/asctime-wasctime.md) funkcję CRT, na przykład `Fri 19 Aug 13:32:58 2016` . To makro jest zawsze definiowane.

- `_VC_NODEFAULTLIB`Zdefiniowane jako 1, gdy opcja kompilatora [ **`/Zl`** (Pomiń domyślną nazwę biblioteki)](../build/reference/zl-omit-default-library-name.md) jest ustawiona. W przeciwnym razie, niezdefiniowany.

- `_WCHAR_T_DEFINED`Zdefiniowane jako 1, gdy Domyślna [**`/Zc:wchar_t`**](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) Opcja kompilatora jest ustawiona. `_WCHAR_T_DEFINED`Makro jest zdefiniowane, ale nie ma żadnej wartości **`/Zc:wchar_t-`** , jeśli opcja kompilatora jest ustawiona i **`wchar_t`** jest zdefiniowana w pliku nagłówkowym systemu zawartym w projekcie. W przeciwnym razie, niezdefiniowany.

- `_WIN32`Zdefiniowane jako 1, gdy element docelowy kompilacji to 32-bit ARM, 64-bit ARM, x86 lub x64. W przeciwnym razie, niezdefiniowany.

- `_WIN64`Zdefiniowane jako 1, gdy element docelowy kompilacji to 64-bitowy ARM lub x64. W przeciwnym razie, niezdefiniowany.

- `_WINRT_DLL`Zdefiniowane jako 1 w przypadku skompilowania jako C++ i obie [ **`/ZW`** (środowisko wykonawcze systemu Windows Kompilacja)](../build/reference/zw-windows-runtime-compilation.md) i [ **`/LD`** lub **`/LDd`** ](../build/reference/md-mt-ld-use-run-time-library.md) opcje kompilatora są ustawione. W przeciwnym razie, niezdefiniowany.

Brak makr preprocesora, które identyfikują wersję biblioteki ATL lub MFC, są wstępnie zdefiniowane przez kompilator. Nagłówki biblioteki ATL i MFC definiują wewnętrznie te makra. Są one niezdefiniowane w dyrektywach preprocesora, które zostały wykonane przed dołączeniem wymaganego nagłówka.

- `_ATL_VER`Zdefiniowane w \<atldef.h> postaci literału liczb całkowitych, który koduje numer wersji ATL.

- `_MFC_VER`Zdefiniowane w \<afxver_.h> postaci literału liczb całkowitych, który koduje numer wersji MFC.

## <a name="see-also"></a>Zobacz też

[Makra (C/C++)](../preprocessor/macros-c-cpp.md)<br/>
[Operatory preprocesora](../preprocessor/preprocessor-operators.md)<br/>
[Dyrektywy preprocesora](../preprocessor/preprocessor-directives.md)
